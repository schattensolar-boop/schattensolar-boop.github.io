<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuis Interaktif Analisis & Peramalan Gelombang</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .quiz-option.selected {
            background-color: #3b82f6; /* bg-blue-500 */
            color: white;
            border-color: #2563eb; /* border-blue-600 */
        }
        #explanationModal, #nav-panel {
            transition: opacity 0.3s ease;
        }
        .nav-btn {
            border: 1px solid #d1d5db;
            background-color: #f9fafb;
        }
        .nav-btn.answered {
            background-color: #dbeafe; /* bg-blue-100 */
            border-color: #93c5fd; /* border-blue-300 */
            color: #1e40af; /* text-blue-800 */
        }
        .nav-btn.current {
            background-color: #3b82f6;
            border-color: #2563eb;
            color: white;
            font-weight: bold;
        }
        .topic-button {
            transition: all 0.2s ease-in-out;
        }
        .topic-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 flex items-center justify-center min-h-screen p-4">
    <div id="quiz-container" class="w-full max-w-4xl mx-auto bg-white p-6 sm:p-8 rounded-2xl shadow-lg">
        <!-- Layar Awal (Pemilihan Topik) -->
        <div id="start-screen">
            <h1 class="text-3xl sm:text-4xl font-bold text-center text-blue-600 mb-4">Kuis Analisis & Peramalan Gelombang Laut</h1>
            <p class="text-center text-gray-600 mb-8">Materi berdasarkan OS3011 - ITB. Pilih topik untuk memulai kuis.</p>
            <div id="topic-selection" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Tombol topik akan di-generate oleh JavaScript -->
            </div>
        </div>

        <!-- Layar Kuis -->
        <div id="quiz-screen" class="hidden">
            <div class="flex justify-between items-start mb-2">
                 <div>
                    <h2 id="quiz-topic-title" class="text-2xl font-bold text-blue-600"></h2>
                    <button id="nav-toggle-btn" onclick="toggleNavPanel()" class="text-sm text-blue-600 hover:underline mt-1">
                        Navigasi Soal
                    </button>
                </div>
                <span id="question-counter" class="text-lg font-semibold text-gray-500 text-right"></span>
            </div>
            
             <div class="w-full bg-gray-200 rounded-full h-2.5 mb-6">
                <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full transition-all duration-300"></div>
            </div>
            
            <div id="question-card" class="bg-blue-50 border-2 border-blue-200 p-6 rounded-xl min-h-[150px] flex items-center justify-center mb-6">
                <p id="question-text" class="text-center text-lg sm:text-xl"></p>
            </div>

            <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"></div>
            <div id="essay-container" class="hidden mb-6">
                 <textarea id="essay-answer" class="w-full p-4 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" rows="6" placeholder="Ketik jawaban esai Anda di sini..."></textarea>
            </div>

            <div class="flex justify-between items-center mt-8">
                 <button id="prev-btn" onclick="prevQuestion()" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600 transition duration-300">Sebelumnya</button>
                 <button onclick="showResults()" class="bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 transition duration-300">Lihat Hasil</button>
                 <button id="next-btn" onclick="nextQuestion()" class="bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition duration-300">Selanjutnya</button>
            </div>
        </div>

        <!-- Layar Hasil -->
        <div id="result-screen" class="hidden text-center">
            <h2 class="text-3xl font-bold text-blue-600 mb-4">Hasil Kuis</h2>
            <div id="topic-scores-breakdown" class="mb-8 text-left border rounded-lg p-4">
                <!-- Rincian skor per topik akan ditampilkan di sini -->
            </div>
            <p class="text-lg mb-6">Tinjau jawaban Anda di bawah ini:</p>
            <div id="answers-review" class="text-left max-h-[40vh] overflow-y-auto p-4 bg-gray-50 rounded-lg border"></div>
            <div class="mt-8 flex justify-center space-x-4">
                <button onclick="restartQuiz()" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 transition duration-300">
                    Kembali ke Awal
                </button>
            </div>
        </div>
    </div>

    <!-- Modal Navigasi -->
    <div id="nav-panel" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 hidden z-40" onclick="toggleNavPanel()">
        <div class="bg-white rounded-2xl p-6 max-w-3xl w-full shadow-2xl" onclick="event.stopPropagation()">
            <h3 class="text-xl font-bold mb-4">Lompat ke Soal</h3>
            <div id="nav-grid" class="grid grid-cols-5 sm:grid-cols-10 gap-2 max-h-[60vh] overflow-y-auto p-2"></div>
            <div class="mt-6 text-right">
                <button onclick="toggleNavPanel()" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600">Tutup</button>
            </div>
        </div>
    </div>

    <!-- Modal Penjelasan -->
    <div id="explanationModal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 hidden z-50" onclick="closeModal()">
        <div class="bg-white rounded-2xl p-8 max-w-2xl w-full shadow-2xl transform transition-transform duration-300 scale-95" onclick="event.stopPropagation()">
            <h3 class="text-2xl font-bold text-blue-600 mb-4" id="modal-question"></h3>
            <p class="text-lg mb-2 font-semibold">Jawaban yang Benar:</p>
            <p class="text-green-600 bg-green-100 p-3 rounded-lg mb-4" id="modal-correct-answer"></p>
            <p class="text-lg mb-2 font-semibold">Penjelasan:</p>
            <p id="modal-explanation" class="text-gray-700"></p>
            <div class="mt-6 text-right">
                <button onclick="closeModal()" class="bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition">Tutup</button>
            </div>
        </div>
    </div>

    <script>
        // --- Data Kuis (Dikelompokkan per Topik) ---
        const quizDataCategorized = {
            "Dasar-Dasar & Statistik Gelombang": {
                mcq: [
                    { question: "Apa definisi dari tinggi gelombang (H) dalam suatu rekaman data?", options: ["Jarak horizontal antara dua puncak", "Jarak vertikal dari lembah ke puncak berikutnya", "Waktu antara dua puncak berturutan", "Ketinggian maksimum yang tercatat"], answer: "Jarak vertikal dari lembah ke puncak berikutnya", explanation: "Tinggi gelombang (H) secara spesifik didefinisikan sebagai jarak vertikal antara lembah (trough) dan puncak (crest) yang mengikutinya dalam satu siklus gelombang." },
                    { question: "Periode gelombang (T) didefinisikan sebagai...", options: ["Panjang waktu antara dua down-crossing atau up-crossing berturut-turut", "Waktu yang dibutuhkan gelombang untuk menempuh jarak tertentu", "Setengah dari waktu rekaman gelombang", "Waktu yang berhubungan dengan tinggi gelombang maksimum"], answer: "Panjang waktu antara dua down-crossing atau up-crossing berturut-turut", explanation: "Periode gelombang (T) adalah durasi waktu untuk satu siklus gelombang lengkap, yang diukur dengan mengidentifikasi titik-titik di mana elevasi permukaan air memotong level nol (zero-crossing)." },
                    { question: "Parameter statistik Hmax merepresentasikan...", options: ["Tinggi gelombang rata-rata", "Tinggi gelombang yang paling sering muncul", "Tinggi gelombang maksimum dalam suatu rekaman data", "Rata-rata dari 1/3 gelombang tertinggi"], answer: "Tinggi gelombang maksimum dalam suatu rekaman data", explanation: "Hmax adalah nilai tunggal yang menunjukkan tinggi gelombang paling besar yang terukur selama periode pengamatan tertentu." },
                    { question: "Apa yang dimaksud dengan periode gelombang rata-rata zero-crossing (Tz)?", options: ["Periode dari gelombang tertinggi", "Panjang waktu rekaman dibagi jumlah down-crossing (atau up-crossing)", "Rata-rata periode dari 1/3 gelombang tertinggi", "Periode yang energinya maksimum"], answer: "Panjang waktu rekaman dibagi jumlah down-crossing (atau up-crossing)", explanation: "Tz dihitung dengan membagi total durasi rekaman gelombang dengan jumlah total gelombang yang diidentifikasi melalui metode zero-crossing, memberikan periode rata-rata." },
                    { question: "Tinggi gelombang signifikan (H1/3 atau Hs) adalah...", options: ["Tinggi gelombang yang signifikan secara statistik", "Rata-rata dari 1/3 gelombang tertinggi dalam rekaman data", "Tinggi gelombang yang diamati oleh satelit", "Tinggi gelombang yang menyebabkan kerusakan"], answer: "Rata-rata dari 1/3 gelombang tertinggi dalam rekaman data", explanation: "H1/3 dihitung dengan mengurutkan semua tinggi gelombang dari yang terbesar, lalu mengambil sepertiga teratas dan merata-ratakannya. Nilai ini mendekati tinggi gelombang yang dilaporkan oleh pengamat visual." },
                    { question: "Mengapa tinggi gelombang signifikan (H1/3) merupakan parameter yang penting?", options: ["Karena nilainya selalu yang terbesar", "Karena paling mudah dihitung", "Karena nilainya kira-kira sama dengan tinggi yang teramati secara visual", "Karena berhubungan langsung dengan kecepatan angin"], answer: "Karena nilainya kira-kira sama dengan tinggi yang teramati secara visual", explanation: "H1/3 menjadi standar dalam rekayasa kelautan dan meteorologi karena korelasinya yang baik dengan persepsi manusia tentang 'seberapa besar' gelombang di laut." },
                    { question: "Periode gelombang signifikan (T1/3) adalah...", options: ["Periode gelombang rata-rata", "Periode yang energinya minimum", "Periode yang paling sering terjadi", "Rata-rata periode dari 1/3 gelombang yang tingginya tertinggi"], answer: "Rata-rata periode dari 1/3 gelombang yang tingginya tertinggi", explanation: "T1/3 adalah periode rata-rata yang berkorespondensi dengan gelombang-gelombang yang digunakan untuk menghitung H1/3. Nilainya mendekati periode di mana energi spektrum gelombang mencapai puncaknya." },
                    { question: "Berapa durasi optimal dari rekaman gelombang agar deskripsi statistiknya dianggap valid (stasioner)?", options: ["5-10 menit", "15-35 menit (mengandung ~200 gelombang)", "1 jam", "24 jam"], answer: "15-35 menit (mengandung ~200 gelombang)", explanation: "Durasi ini dianggap cukup lama untuk menangkap variabilitas statistik gelombang tanpa terpengaruh oleh perubahan kondisi cuaca jangka panjang (non-stasioner), seperti perubahan angin atau pasang surut." },
                    { question: "Hubungan antara H1/3 (diukur) dan Hv (diamati visual) secara umum adalah...", options: ["H1/3 jauh lebih besar dari Hv", "H1/3 jauh lebih kecil dari Hv", "H1/3 ≈ Hv", "Tidak ada hubungan sama sekali"], answer: "H1/3 ≈ Hv", explanation: "Studi empiris menunjukkan bahwa tinggi gelombang signifikan (H1/3) yang diukur oleh instrumen memiliki korelasi yang sangat baik dan nilainya mendekati tinggi gelombang yang dilaporkan oleh pengamat berpengalaman." },
                    { question: "Parameter Hrms (root mean square wave height) relevan untuk hal-hal yang terkait dengan...", options: ["Navigasi kapal", "Energi gelombang", "Kecepatan gelombang", "Panjang gelombang"], answer: "Energi gelombang", explanation: "Hrms dihitung dari akar kuadrat dari rata-rata kuadrat tinggi gelombang. Karena energi gelombang sebanding dengan kuadrat tinggi gelombang (E ∝ H²), Hrms berhubungan langsung dengan energi total dalam rekaman gelombang." },
                    { question: "Jika ada 12 gelombang dalam rekaman data, bagaimana cara menghitung H1/3?", options: ["Merata-ratakan semua 12 gelombang", "Merata-ratakan 3 gelombang tertinggi", "Merata-ratakan 4 gelombang tertinggi", "Mengambil nilai gelombang ke-3 tertinggi"], answer: "Merata-ratakan 4 gelombang tertinggi", explanation: "H1/3 berarti rata-rata dari sepertiga (1/3) gelombang tertinggi. Untuk 12 gelombang, 1/3 dari 12 adalah 4. Jadi, kita merata-ratakan 4 gelombang tertinggi." },
                    { question: "Dalam klasifikasi gelombang laut berdasarkan periode, 'wind sea' dan 'swell' termasuk dalam kategori...", options: ["Gelombang Panjang (Perairan Dangkal)", "Gelombang Pendek (Perairan Dalam)", "Gelombang Kapiler", "Tsunami"], answer: "Gelombang Pendek (Perairan Dalam)", explanation: "Gelombang yang dibangkitkan oleh angin, baik 'wind sea' (masih di bawah pengaruh angin lokal) maupun 'swell' (telah bergerak menjauh dari area pembangkitan), memiliki periode yang relatif pendek (detik hingga puluhan detik) dan diklasifikasikan sebagai gelombang perairan dalam." },
                    { question: "Apa perbedaan utama antara 'wind sea' dan 'swell'?", options: ["Wind sea lebih tinggi dari swell", "Swell lebih teratur dan memiliki periode lebih panjang daripada wind sea", "Wind sea hanya ada di perairan dangkal", "Swell dibangkitkan oleh gempa bumi"], answer: "Swell lebih teratur dan memiliki periode lebih panjang daripada wind sea", explanation: "'Wind sea' adalah gelombang yang masih aktif menerima energi dari angin lokal, sehingga bentuknya tidak teratur dan puncaknya tajam. 'Swell' adalah gelombang yang telah menjalar jauh dari area pembangkitannya, sehingga menjadi lebih teratur, puncaknya lebih landai, dan periodenya lebih panjang." },
                    { question: "Tsunami dan pasang surut (tides) diklasifikasikan sebagai...", options: ["Gelombang Kapiler", "Gelombang Pendek", "Gelombang Panjang", "Swell"], answer: "Gelombang Panjang", explanation: "Tsunami dan pasang surut memiliki periode yang sangat panjang (menit hingga jam) dan panjang gelombang yang sangat besar, sehingga mereka selalu berperilaku sebagai gelombang perairan dangkal, bahkan di tengah samudra." },
                    { question: "Metode zero-crossing digunakan untuk...", options: ["Menentukan energi total gelombang", "Mengidentifikasi gelombang individu dalam rekaman data", "Memfilter data gelombang dari noise", "Menghitung kecepatan angin"], answer: "Mengidentifikasi gelombang individu dalam rekaman data", explanation: "Metode ini mendefinisikan satu gelombang sebagai segmen dari rekaman data antara dua titik di mana elevasi permukaan air memotong garis rata-rata (mean sea level) dengan arah yang sama (misalnya, dua down-crossing berturut-turut)." }
                ],
                essay: [
                     { question: "Jelaskan perbedaan antara Hmax, H (rata-rata), dan H1/3 (tinggi gelombang signifikan). Mengapa H1/3 sering dianggap sebagai parameter yang paling representatif untuk menggambarkan kondisi laut?", answer: "Hmax adalah tinggi gelombang maksimum, yaitu nilai tunggal tertinggi yang tercatat dalam suatu periode pengamatan. H (rata-rata) adalah rata-rata aritmatika dari semua tinggi gelombang individu yang diidentifikasi. H1/3 (tinggi gelombang signifikan) adalah rata-rata dari sepertiga gelombang tertinggi. H1/3 dianggap paling representatif karena nilainya sangat mendekati tinggi gelombang yang dilaporkan oleh pengamat visual berpengalaman. Hmax bisa menjadi nilai ekstrem yang jarang terjadi, sementara H rata-rata cenderung meremehkan kondisi laut karena dipengaruhi oleh banyak gelombang kecil. H1/3 memberikan keseimbangan yang baik untuk aplikasi rekayasa dan operasional." },
                     { question: "Sebutkan dan jelaskan empat cara alternatif untuk mendapatkan data gelombang laut.", answer: "Empat cara alternatif untuk mendapatkan data gelombang adalah: 1. **Pengukuran Langsung:** Menggunakan instrumen seperti wave buoy (pelampung gelombang) atau pressure sensor yang dipasang di dasar laut untuk merekam fluktuasi permukaan air secara langsung. Ini memberikan data yang sangat akurat di satu titik. 2. **Pengamatan Visual:** Dilakukan oleh pengamat terlatih di kapal atau anjungan lepas pantai yang memperkirakan tinggi dan periode gelombang secara visual. Meskipun subjektif, metode ini memberikan data historis yang berharga. 3. **Citra Satelit:** Satelit altimeter dapat mengukur tinggi permukaan laut untuk menentukan tinggi gelombang signifikan, sementara satelit SAR (Synthetic Aperture Radar) dapat memberikan informasi tentang spektrum dan arah gelombang di area yang sangat luas. 4. **Simulasi Model Numerik:** Menggunakan model komputer (seperti SWAN atau WAVEWATCH III) yang disimulasikan dengan data angin untuk memprediksi atau merekonstruksi (hindcast) kondisi gelombang di seluruh wilayah perairan." }
                ]
            },
            "Distribusi & Teori Gelombang": {
                mcq: [
                    { question: "Elevasi muka air laut yang acak diasumsikan terbentuk dari...", options: ["Satu gelombang dominan", "Penjumlahan gelombang-gelombang harmonik dengan amplitudo, frekuensi, dan fase tertentu", "Interaksi antara angin dan arus", "Efek pasang surut bulan"], answer: "Penjumlahan gelombang-gelombang harmonik dengan amplitudo, frekuensi, dan fase tertentu", explanation: "Model acak amplitudo/fase mengasumsikan bahwa permukaan laut yang kompleks adalah superposisi dari banyak gelombang sinusoidal sederhana, masing-masing dengan karakteristiknya sendiri." },
                    { question: "Distribusi statistik dari elevasi permukaan laut (η) yang bersifat stasioner mengikuti distribusi...", options: ["Rayleigh", "Gaussian (Normal)", "Poisson", "Log-normal"], answer: "Gaussian (Normal)", explanation: "Berdasarkan Teorema Limit Pusat, penjumlahan dari banyak variabel acak independen (gelombang harmonik) cenderung menghasilkan distribusi Gaussian atau Normal, di mana elevasi terdistribusi secara simetris di sekitar level rata-rata (nol)." },
                    { question: "Distribusi tinggi gelombang individu (H) di laut dalam secara teoritis dan empiris mengikuti distribusi...", options: ["Gaussian (Normal)", "Rayleigh", "Weibull", "Beta"], answer: "Rayleigh", explanation: "Jika elevasi permukaan laut berdistribusi Gaussian, maka distribusi dari amplitudo gelombangnya (dan juga tinggi gelombang) akan mengikuti distribusi Rayleigh, yang memiliki bentuk miring ke kanan." },
                    { question: "Dalam distribusi Rayleigh, tinggi gelombang yang probabilitasnya paling tinggi (paling sering muncul) adalah...", options: ["H = Hrms", "H = 0,707 * Hrms", "H = 1,41 * Hrms", "H = 2 * Hrms"], answer: "H = 0,707 * Hrms", explanation: "Puncak dari kurva distribusi probabilitas Rayleigh terjadi pada nilai H = Hrms / √2, yang setara dengan 0,707 * Hrms. Ini adalah tinggi gelombang yang paling mungkin ditemui." },
                    { question: "Berdasarkan distribusi Rayleigh, hubungan antara H1/3 dan Hrms adalah...", options: ["H1/3 = 2 * Hrms", "H1/3 = Hrms", "H1/3 ≈ 0,89 * Hrms", "H1/3 ≈ 1,41 * Hrms (√2 * Hrms)"], answer: "H1/3 ≈ 1,41 * Hrms (√2 * Hrms)", explanation: "Hubungan matematis ini berasal dari integrasi fungsi distribusi Rayleigh dan merupakan salah satu relasi fundamental dalam statistik gelombang." },
                    { question: "Jika Hrms dari suatu rekaman gelombang adalah 2 m, berapakah perkiraan nilai H1/3?", options: ["2,00 m", "1,78 m", "2,82 m", "4,00 m"], answer: "2,82 m", explanation: "Menggunakan hubungan H1/3 = √2 * Hrms, maka H1/3 = 1,414 * 2 m = 2,828 m." },
                    { question: "Fungsi Kepadatan Peluang (FKP) atau Probability Density Function (PDF) memiliki properti di mana total luas di bawah kurvanya sama dengan...", options: ["0", "0,5", "1", "Tak terhingga"], answer: "1", explanation: "Total luas di bawah kurva FKP merepresentasikan total probabilitas dari semua kemungkinan hasil, yang harus sama dengan 1 (atau 100%)." },
                    { question: "Probabilitas tinggi gelombang melebihi suatu nilai H1, Q(H1), dapat dihitung sebagai...", options: ["F(H1)", "1 - F(H1)", "1 / F(H1)", "ln(F(H1))"], answer: "1 - F(H1)", explanation: "F(H1) adalah Fungsi Distribusi Kumulatif (CDF), yang menyatakan probabilitas tinggi gelombang *kurang dari atau sama dengan* H1. Maka, probabilitas *melebihi* H1 adalah 1 dikurangi F(H1)." },
                    { question: "Jika H1/3 = 4 m, berapakah probabilitas tinggi gelombang akan melebihi 4 m?", options: ["Sekitar 1%", "Sekitar 13,5%", "Sekitar 50%", "Sekitar 86,5%"], answer: "Sekitar 13,5%", explanation: "Menggunakan rumus Q(H1) = exp[-2(H1/H1/3)²], maka Q(4) = exp[-2(4/4)²] = exp[-2] ≈ 0.135 atau 13,5%." },
                    { question: "Rumus Hmax ≈ H1/3 * √(0,5 * ln N) digunakan untuk memperkirakan tinggi gelombang maksimum. Rumus ini paling valid untuk...", options: ["Jumlah gelombang N yang sedikit (N < 50)", "Semua nilai N", "Jumlah gelombang N yang besar (N = 2000-5000)", "Hanya di perairan dangkal"], answer: "Jumlah gelombang N yang besar (N = 2000-5000)", explanation: "Rumus ini berasal dari statistik ekstrem distribusi Rayleigh dan memberikan estimasi yang baik ketika jumlah sampel (N) cukup besar, seperti dalam rekaman data selama beberapa jam." },
                    { question: "Jika H1/3 adalah 3 m dan terdapat 1000 gelombang dalam rekaman, estimasi Hmax adalah sekitar...", options: ["3 m", "4,5 m", "5,8 m", "7,5 m"], answer: "5,8 m", explanation: "Hmax ≈ 3 * √(0,5 * ln(1000)) ≈ 3 * √(0,5 * 6,9) ≈ 3 * √3,45 ≈ 3 * 1,86 ≈ 5,58 m. Pilihan terdekat adalah 5,8 m." },
                    { question: "Untuk N yang sangat besar (misalnya rekaman 6 jam), Hmax seringkali diaproksimasikan sebagai...", options: ["Hmax ≈ H1/3", "Hmax ≈ 1,5 * H1/3", "Hmax ≈ 2,0 * H1/3", "Hmax ≈ 3,0 * H1/3"], answer: "Hmax ≈ 2,0 * H1/3", explanation: "Untuk durasi rekaman yang umum dalam aplikasi rekayasa (beberapa jam), rasio Hmax/H1/3 secara empiris mendekati 2. Ini adalah aturan praktis yang sering digunakan." },
                    { question: "Fungsi Distribusi Kumulatif (CDF) atau F(x) dari suatu variabel acak x merepresentasikan...", options: ["Nilai rata-rata dari x", "Nilai yang paling sering muncul dari x", "Probabilitas bahwa variabel acak akan memiliki nilai lebih besar dari x", "Probabilitas bahwa variabel acak akan memiliki nilai kurang dari atau sama dengan x"], answer: "Probabilitas bahwa variabel acak akan memiliki nilai kurang dari atau sama dengan x", explanation: "CDF mengakumulasikan probabilitas dari nilai terendah hingga nilai x tertentu. Nilainya berkisar dari 0 hingga 1." },
                    { question: "Jika F(H=3m) = 0,90, ini berarti...", options: ["90% gelombang memiliki tinggi tepat 3 m", "10% gelombang memiliki tinggi kurang dari 3 m", "90% gelombang memiliki tinggi kurang dari atau sama dengan 3 m", "90% gelombang memiliki tinggi lebih dari 3 m"], answer: "90% gelombang memiliki tinggi kurang dari atau sama dengan 3 m", explanation: "Nilai CDF F(3m) = 0.90 menunjukkan bahwa ada 90% kemungkinan untuk menemukan gelombang dengan tinggi 3 meter atau kurang." },
                    { question: "Distribusi Rayleigh tidak lagi valid di daerah surf zone (zona pecah gelombang) karena...", options: ["Proses non-linear dan pecah gelombang membatasi tinggi gelombang", "Kedalaman air menjadi tidak terbatas", "Angin berhenti bertiup", "Salinitas meningkat drastis"], answer: "Proses non-linear dan pecah gelombang membatasi tinggi gelombang", explanation: "Di perairan sangat dangkal, tinggi gelombang dibatasi oleh kedalaman (depth-limiting breaking), yang 'memotong' ekor atas dari distribusi Rayleigh, sehingga distribusinya tidak lagi sesuai." }
                ],
                essay: [
                     { question: "Jelaskan asumsi dasar di balik teori gelombang acak (random wave theory) dan mengapa distribusi Gaussian digunakan untuk elevasi permukaan laut, sementara distribusi Rayleigh digunakan untuk tinggi gelombang.", answer: "Asumsi dasar teori gelombang acak adalah bahwa permukaan laut yang tidak teratur merupakan superposisi (penjumlahan) dari banyak gelombang harmonik kecil yang independen, masing-masing dengan frekuensi, amplitudo, dan fase acak. Berdasarkan Teorema Limit Pusat, penjumlahan dari banyak variabel acak independen ini akan menghasilkan distribusi probabilitas yang mendekati Distribusi Gaussian (Normal). Oleh karena itu, elevasi permukaan laut (η) yang berfluktuasi di sekitar level rata-rata dianggap berdistribusi Gaussian. Tinggi gelombang (H) atau amplitudo (a) secara definisi adalah nilai yang selalu positif. Jika elevasi (η) berdistribusi Gaussian, secara matematis dapat diturunkan bahwa selubung (envelope) dari sinyal tersebut, yang merepresentasikan amplitudo, akan mengikuti Distribusi Rayleigh. Inilah sebabnya tinggi gelombang berdistribusi Rayleigh." },
                     { question: "Jika tinggi gelombang signifikan (H1/3) di suatu perairan adalah 5 meter, hitunglah probabilitas untuk menemukan gelombang yang tingginya melebihi 8 meter. Tunjukkan langkah-langkah perhitungan Anda.", answer: "Untuk menghitung probabilitas tinggi gelombang melebihi nilai tertentu (H1), kita menggunakan rumus yang diturunkan dari distribusi Rayleigh: Q(H1) = exp[-2 * (H1 / H1/3)²]. \n\nLangkah-langkah:\n1. Identifikasi variabel yang diketahui: H1/3 = 5 m, H1 = 8 m.\n2. Masukkan nilai ke dalam rumus: Q(8) = exp[-2 * (8 / 5)²]\n3. Hitung rasio dan kuadratkan: (8 / 5) = 1.6, lalu (1.6)² = 2.56.\n4. Lakukan perkalian di dalam eksponen: -2 * 2.56 = -5.12.\n5. Hitung nilai eksponensial: Q(8) = exp[-5.12] ≈ 0.006.\n6. Konversi ke persentase: 0.006 * 100% = 0.6%.\n\nJadi, probabilitas untuk menemukan gelombang yang tingginya melebihi 8 meter adalah sekitar 0.6%." }
                ]
            },
            "Spektrum Energi Gelombang": {
                mcq: [
                    { question: "Apa yang direpresentasikan oleh spektrum energi gelombang?", options: ["Distribusi tinggi gelombang terhadap waktu", "Distribusi energi gelombang terhadap frekuensi-frekuensi penyusunnya", "Kecepatan gelombang pada berbagai kedalaman", "Arah datang gelombang dominan"], answer: "Distribusi energi gelombang terhadap frekuensi-frekuensi penyusunnya", explanation: "Spektrum energi menunjukkan bagaimana total energi dari kondisi laut terdistribusi di antara berbagai komponen gelombang dengan frekuensi (atau periode) yang berbeda." },
                    { question: "Bagaimana cara mendapatkan spektrum energi dari rekaman data gelombang (elevasi muka air)?", options: ["Dengan menghitung H1/3", "Dengan melakukan analisis statistik regresi", "Dengan menggunakan Transformasi Fourier Cepat (FFT)", "Dengan mengukur suhu air"], answer: "Dengan menggunakan Transformasi Fourier Cepat (FFT)", explanation: "FFT adalah algoritma matematika yang menguraikan sinyal dalam domain waktu (seperti rekaman elevasi) menjadi komponen-komponen frekuensinya, memungkinkan kita untuk melihat kontribusi energi dari setiap frekuensi." },
                    { question: "Dalam spektrum energi, puncak (peak) dari kurva menunjukkan...", options: ["Energi total gelombang", "Tinggi gelombang maksimum", "Frekuensi di mana energi gelombang paling dominan (fp)", "Periode gelombang rata-rata"], answer: "Frekuensi di mana energi gelombang paling dominan (fp)", explanation: "Frekuensi puncak (peak frequency, fp) adalah frekuensi yang membawa energi paling besar. Periode yang berkorespondensi dengannya (Tp = 1/fp) disebut periode puncak." },
                    { question: "Spektrum variansi densitas (E(f)) memiliki satuan...", options: ["m/s", "detik", "m²/Hz", "m³"], answer: "m²/Hz", explanation: "Satuan ini merepresentasikan 'kepadatan' varians (yang sebanding dengan energi) per unit frekuensi. Varians dari elevasi permukaan air memiliki satuan m²." },
                    { question: "Luas total di bawah kurva spektrum densitas variansi E(f) merepresentasikan...", options: ["Tinggi gelombang signifikan", "Periode puncak", "Varians total dari elevasi permukaan air (m₀)", "Kecepatan angin"], answer: "Varians total dari elevasi permukaan air (m₀)", explanation: "Mengintegrasikan E(f) terhadap seluruh frekuensi akan memberikan momen spektral orde ke-0 (m₀), yang sama dengan varians total dari sinyal elevasi. Ini juga sebanding dengan energi total gelombang." },
                    { question: "Momen spektral orde ke-n (mn) didefinisikan sebagai...", options: ["∫ f * E(f) df", "∫ fⁿ * E(f) df", "E(f) / fⁿ", "dⁿE(f) / dfⁿ"], answer: "∫ fⁿ * E(f) df", explanation: "Momen spektral adalah integral dari frekuensi pangkat 'n' dikalikan dengan spektrum energi. Momen yang berbeda (n=0, 1, 2, -1, dst.) digunakan untuk menghitung berbagai parameter gelombang." },
                    { question: "Tinggi gelombang signifikan yang dihitung dari spektrum (Hm0) dapat dihitung menggunakan rumus...", options: ["2 * √m₀", "m₀ / m₁", "√(m₀ / m₂)", "4 * √m₀"], answer: "4 * √m₀", explanation: "Hm0 adalah definisi tinggi gelombang signifikan berbasis spektrum. Hubungan ini berasal dari teori gelombang acak di mana Hm0 ≈ H1/3, dan H1/3 ≈ 1.41 * Hrms, serta Hrms = √(2*m₀). Gabungan ini menghasilkan Hm0 = 4√m₀." },
                    { question: "Periode gelombang rata-rata yang dihitung dari spektrum, Tm01, dihitung dengan rumus...", options: ["m₁ / m₀", "m₀ / m₁", "√(m₀ / m₁)", "m₁ * m₀"], answer: "m₀ / m₁", explanation: "Tm01, yang berkorespondensi dengan frekuensi rata-rata spektrum, dihitung sebagai rasio momen ke-0 terhadap momen ke-1. (Catatan: frekuensi rata-rata adalah m₁/m₀, sehingga periode adalah kebalikannya)." },
                    { question: "Periode gelombang rata-rata zero-crossing yang dihitung dari spektrum, Tm02, ekuivalen dengan...", options: ["m₀ / m₂", "√(m₀ / m₂)", "m₂ / m₀", "√(m₂ / m₀)"], answer: "√(m₀ / m₂)", explanation: "Tm02 adalah estimasi periode rata-rata zero-crossing (Tz) dari data spektral, yang dihitung menggunakan momen orde ke-0 dan ke-2." },
                    { question: "Spektrum 2D atau spektrum arah (directional spectrum) memberikan informasi tambahan tentang...", options: ["Suhu permukaan laut", "Salinitas", "Distribusi energi gelombang terhadap arah", "Arus bawah permukaan"], answer: "Distribusi energi gelombang terhadap arah", explanation: "Spektrum 2D (E(f, θ)) tidak hanya menunjukkan bagaimana energi terdistribusi per frekuensi (f), tetapi juga per arah datangnya gelombang (θ)." },
                    { question: "Dalam plot spektrum 2D polar, sumbu radial biasanya merepresentasikan...", options: ["Arah (derajat)", "Frekuensi (Hz)", "Energi (m²/Hz/rad)", "Waktu (detik)"], answer: "Frekuensi (Hz)", explanation: "Dalam plot polar standar, jarak dari pusat (origin) menunjukkan frekuensi (frekuensi rendah di luar, tinggi di dalam), sedangkan sudut menunjukkan arah datang gelombang." },
                    { question: "Jika sebuah spektrum energi memiliki dua puncak yang jelas pada frekuensi yang berbeda, ini kemungkinan besar mengindikasikan...", options: ["Kondisi laut yang tenang", "Adanya 'wind sea' dan 'swell' secara bersamaan", "Kesalahan pada instrumen pengukuran", "Badai yang sangat kuat"], answer: "Adanya 'wind sea' dan 'swell' secara bersamaan", explanation: "'Wind sea' yang dibangkitkan secara lokal akan memiliki puncak pada frekuensi yang lebih tinggi (periode lebih pendek), sementara 'swell' yang datang dari jauh akan memiliki puncak pada frekuensi yang lebih rendah (periode lebih panjang)." },
                    { question: "Parameter 'peakedness' (Qp) digunakan untuk mengukur...", options: ["Tinggi puncak spektrum", "Lebar puncak spektrum (ketidakteraturan gelombang)", "Jumlah puncak dalam spektrum", "Arah puncak spektrum"], answer: "Lebar puncak spektrum (ketidakteraturan gelombang)", explanation: "Nilai Qp yang tinggi menunjukkan spektrum yang sempit dan runcing (misalnya, swell yang teratur), sedangkan nilai Qp yang rendah menunjukkan spektrum yang lebar dan landai (misalnya, wind sea yang tidak teratur)." },
                    { question: "Spektrum yang lebar (nilai Qp rendah) menandakan...", options: ["Gelombang yang sangat teratur dari satu arah", "Banyak periode gelombang yang berbeda hadir; pola gelombang tidak teratur", "Hanya ada satu periode gelombang dominan", "Kondisi laut yang fully developed"], answer: "Banyak periode gelombang yang berbeda hadir; pola gelombang tidak teratur", explanation: "Spektrum yang lebar berarti energi terdistribusi di rentang frekuensi yang luas, yang menghasilkan superposisi gelombang dengan banyak periode berbeda, menciptakan permukaan laut yang acak dan tidak teratur." },
                    { question: "Periode energi gelombang (Tm-10) dihitung menggunakan momen...", options: ["m₋₁ dan m₀", "m₁ dan m₀", "m₋₂ dan m₀", "m₂ dan m₁"], answer: "m₋₁ dan m₀", explanation: "Periode energi, yang penting untuk perhitungan daya gelombang, dihitung sebagai rasio momen orde negatif satu (m₋₁) terhadap momen orde nol (m₀)." }
                ],
                essay: [
                     { question: "Jelaskan perbedaan antara spektrum 1D dan spektrum 2D. Informasi penting apa yang diberikan oleh spektrum 2D yang tidak ada di spektrum 1D?", answer: "Spektrum 1D, atau E(f), menggambarkan bagaimana energi gelombang total terdistribusi hanya berdasarkan frekuensi (f). Ini menunjukkan frekuensi mana yang dominan (puncak spektrum) dan seberapa besar energi yang terkandung di setiap frekuensi. Namun, spektrum 1D tidak memberikan informasi tentang dari arah mana gelombang-gelombang tersebut datang. Spektrum 2D, atau spektrum arah E(f, θ), memberikan gambaran yang lebih lengkap dengan mendistribusikan energi tidak hanya berdasarkan frekuensi (f) tetapi juga berdasarkan arah datangnya (θ). Informasi penting yang diberikan oleh spektrum 2D adalah kemampuan untuk memisahkan sistem gelombang yang berbeda, seperti membedakan antara 'swell' yang datang dari badai jauh di selatan dan 'wind sea' yang dibangkitkan oleh angin lokal dari arah barat." },
                     { question: "Jika Anda diberikan plot spektrum energi 1D, bagaimana Anda akan menghitung tinggi gelombang signifikan (Hm0) dan periode puncak (Tp)? Jelaskan konsep di balik masing-masing perhitungan.", answer: "1. **Periode Puncak (Tp):** Ini adalah parameter yang paling mudah diidentifikasi. Caranya adalah dengan menemukan titik tertinggi (puncak) pada kurva spektrum energi. Nilai frekuensi pada sumbu horizontal yang berkorespondensi dengan puncak ini adalah frekuensi puncak (fp). Periode puncak kemudian dihitung dengan rumus Tp = 1 / fp. Konsepnya adalah bahwa Tp mewakili periode dari komponen gelombang yang paling dominan atau membawa energi paling banyak.\n\n2. **Tinggi Gelombang Signifikan (Hm0):** Perhitungan ini lebih kompleks. Caranya adalah dengan menghitung luas total di bawah kurva spektrum energi. Luas ini secara matematis adalah integral dari E(f) terhadap f, yang disebut momen spektral orde ke-0 (m₀). Setelah nilai m₀ diperoleh, tinggi gelombang signifikan dihitung dengan rumus Hm0 = 4 * √m₀. Konsepnya adalah bahwa energi total gelombang (yang proporsional dengan m₀) berhubungan langsung dengan tinggi gelombang representatif dari kondisi laut tersebut." }
                ]
            },
            "Model Spektrum & Peramalan": {
                mcq: [
                    { question: "Kondisi laut di mana energi yang masuk dari angin seimbang dengan energi yang hilang karena pecah gelombang (whitecapping), sehingga gelombang tidak dapat tumbuh lebih tinggi lagi, disebut...", options: ["Sea state limited", "Swell state", "Fully developed sea", "Initial sea"], answer: "Fully developed sea", explanation: "'Fully developed sea' adalah kondisi ideal di mana durasi dan fetch angin tidak terbatas, memungkinkan gelombang mencapai tinggi dan periode maksimum untuk kecepatan angin tertentu." },
                    { question: "Model spektrum energi yang sering digunakan untuk kondisi 'fully developed sea' adalah...", options: ["JONSWAP", "Pierson-Moskowitz (PM)", "TMA", "Phillips"], answer: "Pierson-Moskowitz (PM)", explanation: "Spektrum Pierson-Moskowitz dikembangkan berdasarkan data dari Atlantik Utara dan secara spesifik memodelkan kondisi laut yang telah berkembang sepenuhnya (fully developed)." },
                    { question: "Spektrum JONSWAP adalah modifikasi dari spektrum PM. Perbedaan utamanya adalah...", options: ["JONSWAP hanya untuk perairan dangkal", "JONSWAP memiliki puncak yang lebih runcing dan lebih tinggi", "JONSWAP tidak mempertimbangkan kecepatan angin", "JONSWAP memiliki bentuk yang lebih lebar"], answer: "JONSWAP memiliki puncak yang lebih runcing dan lebih tinggi", explanation: "JONSWAP dikembangkan untuk kondisi laut yang 'fetch-limited' (pertumbuhan gelombang dibatasi oleh jarak fetch), yang menghasilkan spektrum dengan puncak yang lebih tajam (overshoot) dibandingkan spektrum PM yang lebih landai." },
                    { question: "Faktor 'peak enhancement' (γ) dalam spektrum JONSWAP berfungsi untuk...", options: ["Memperlebar spektrum", "Menggeser frekuensi puncak", "Meningkatkan dan meruncingkan puncak spektrum", "Menghitung energi total"], answer: "Meningkatkan dan meruncingkan puncak spektrum", explanation: "Nilai γ (gamma) yang lebih besar dari 1 (biasanya sekitar 3.3) 'meninggikan' puncak spektrum JONSWAP relatif terhadap bentuk PM, mencerminkan energi yang lebih terkonsentrasi di sekitar frekuensi puncak." },
                    { question: "Spektrum JONSWAP lebih cocok untuk memodelkan...", options: ["Swell di tengah samudra", "Gelombang yang sedang tumbuh di area pembangkitan (fetch-limited)", "Gelombang tsunami", "Gelombang di sungai"], answer: "Gelombang yang sedang tumbuh di area pembangkitan (fetch-limited)", explanation: "Eksperimen JONSWAP (Joint North Sea Wave Program) secara khusus mempelajari bagaimana gelombang tumbuh di sepanjang fetch, sehingga modelnya sangat sesuai untuk kondisi ini." },
                    { question: "Model spektrum TMA dikembangkan untuk...", options: ["Memperhitungkan efek kedalaman perairan terbatas (perairan dangkal)", "Kondisi angin topan yang ekstrem", "Gelombang di daerah kutub", "Memprediksi arah gelombang"], answer: "Memperhitungkan efek kedalaman perairan terbatas (perairan dangkal)", explanation: "Spektrum TMA (Texel-Marsen-Arsloe) adalah modifikasi dari spektrum JONSWAP yang memasukkan fungsi transformasi untuk menyesuaikan bentuk spektrum dengan kedalaman air yang terbatas." },
                    { question: "Semakin kuat kecepatan angin pada kondisi 'fully developed sea', maka...", options: ["Energi total berkurang dan frekuensi puncak bergeser ke frekuensi yang lebih tinggi", "Energi total meningkat dan frekuensi puncak bergeser ke frekuensi yang lebih rendah", "Energi total meningkat tetapi frekuensi puncak tetap", "Energi total tetap tetapi frekuensi puncak bergeser ke frekuensi yang lebih rendah"], answer: "Energi total meningkat dan frekuensi puncak bergeser ke frekuensi yang lebih rendah", explanation: "Angin yang lebih kuat mentransfer lebih banyak energi ke laut, menghasilkan gelombang yang lebih tinggi (energi total lebih besar). Gelombang juga menjadi lebih panjang, yang berarti periode puncaknya meningkat dan frekuensi puncaknya (fp) menurun." },
                    { question: "Saat gelombang menjalar menjauh dari pusat badai (menjadi swell), spektrum energinya akan...", options: ["Menjadi lebih lebar dan puncaknya bergeser ke frekuensi tinggi", "Energinya meningkat pesat", "Menjadi lebih sempit dan puncaknya bergeser ke frekuensi rendah", "Menghilang sepenuhnya"], answer: "Menjadi lebih sempit dan puncaknya bergeser ke frekuensi rendah", explanation: "Proses dispersi menyebabkan gelombang dengan periode lebih panjang (frekuensi lebih rendah) berjalan lebih cepat dan 'memimpin' di depan. Ini membuat spektrum menjadi lebih sempit (lebih teratur) dan puncaknya bergeser ke frekuensi yang lebih rendah seiring dengan jarak dari sumber badai." },
                    { question: "Dalam peramalan gelombang, 'fetch' adalah...", options: ["Durasi angin bertiup", "Kecepatan angin rata-rata", "Jarak di atas permukaan air di mana angin bertiup dengan kecepatan dan arah yang konstan", "Ketinggian gelombang maksimum"], answer: "Jarak di atas permukaan air di mana angin bertiup dengan kecepatan dan arah yang konstan", explanation: "Fetch adalah salah satu dari tiga faktor utama yang menentukan ukuran gelombang (selain kecepatan dan durasi angin)." },
                    { question: "Pertumbuhan spektrum gelombang sepanjang fetch ditandai dengan...", options: ["Penurunan energi total dan pergeseran puncak ke frekuensi tinggi", "Peningkatan energi total dan pergeseran puncak ke frekuensi rendah", "Energi total tetap konstan", "Bentuk spektrum yang tidak berubah"], answer: "Peningkatan energi total dan pergeseran puncak ke frekuensi rendah", explanation: "Seiring bertambahnya jarak fetch, angin terus mentransfer energi ke gelombang, menyebabkan tinggi gelombang meningkat (energi total naik). Selain itu, interaksi non-linear mentransfer energi ke frekuensi yang lebih rendah, membuat periode puncak bertambah (frekuensi puncak menurun)." },
                    { question: "Metode peramalan gelombang yang merekonstruksi kondisi gelombang di masa lalu menggunakan data angin historis disebut...", options: ["Forecast", "Nowcast", "Hindcast", "Analysis"], answer: "Hindcast", explanation: "'Hindcast' adalah proses simulasi mundur untuk menciptakan database kondisi gelombang historis, yang sangat berguna untuk studi iklim gelombang dan desain rekayasa." },
                    { question: "Spektrum Phillips adalah model awal yang menggambarkan...", options: ["Batas saturasi energi gelombang pada frekuensi tinggi", "Pertumbuhan eksponensial gelombang", "Efek perairan dangkal", "Interaksi gelombang-arus"], answer: "Batas saturasi energi gelombang pada frekuensi tinggi", explanation: "Spektrum Phillips menyatakan bahwa pada frekuensi tinggi, spektrum energi dibatasi oleh proses pecah gelombang (whitecapping) dan menurun sebanding dengan f⁻⁵." },
                    { question: "Spektrum Bretschneider mirip dengan Pierson-Moskowitz tetapi dinyatakan dalam...", options: ["Parameter angin dan fetch", "Parameter statistik gelombang (H rata-rata dan T rata-rata)", "Kedalaman air", "Arus laut"], answer: "Parameter statistik gelombang (H rata-rata dan T rata-rata)", explanation: "Spektrum Bretschneider memberikan fleksibilitas untuk mendefinisikan spektrum berdasarkan parameter gelombang yang diketahui, bukan hanya dari kecepatan angin." },
                    { question: "Jika Anda ingin memodelkan kondisi gelombang di Laut Jawa selama musim barat di mana fetch dari Laut Cina Selatan terbatas, model spektrum mana yang paling sesuai?", options: ["Pierson-Moskowitz", "TMA", "JONSWAP", "Phillips"], answer: "JONSWAP", explanation: "Kondisi di mana pertumbuhan gelombang dibatasi oleh jarak (fetch-limited) adalah skenario yang ideal untuk penerapan spektrum JONSWAP." },
                    { question: "Untuk memodelkan gelombang yang menjalar dari samudra dalam menuju pesisir yang dangkal, model spektrum mana yang paling tepat?", options: ["Pierson-Moskowitz", "TMA", "JONSWAP", "Phillips"], answer: "TMA", explanation: "Spektrum TMA secara eksplisit dirancang untuk memodifikasi spektrum JONSWAP agar dapat memperhitungkan efek dari kedalaman air yang terbatas, yang menjadi dominan saat gelombang mendekati pantai." }
                ],
                essay: [
                     { question: "Jelaskan perbedaan fundamental antara spektrum Pierson-Moskowitz (PM) dan spektrum JONSWAP. Kapan Anda akan memilih untuk menggunakan masing-masing model tersebut?", answer: "Perbedaan fundamental terletak pada kondisi laut yang dimodelkan. Spektrum Pierson-Moskowitz (PM) memodelkan kondisi 'fully developed sea', yaitu kondisi ideal di mana angin telah bertiup dengan kecepatan konstan di atas fetch dan durasi yang tak terbatas, sehingga gelombang telah mencapai energi maksimumnya. Bentuk spektrumnya lebih landai. Anda akan menggunakan PM untuk memodelkan kondisi di tengah samudra terbuka yang jauh dari daratan setelah badai berlangsung lama. Spektrum JONSWAP, sebaliknya, memodelkan kondisi 'fetch-limited' atau gelombang yang sedang dalam tahap pertumbuhan. Spektrumnya memiliki puncak yang lebih tajam dan lebih tinggi (disebut 'peak enhancement' atau overshoot) dibandingkan PM. Anda akan menggunakan JONSWAP untuk memodelkan gelombang di area pembangkitan, seperti di laut semi-tertutup atau di dekat pantai di mana jarak fetch membatasi pertumbuhan gelombang." },
                     { question: "Gambarkan secara kualitatif (dengan kata-kata) bagaimana bentuk spektrum energi 1D berubah saat gelombang tumbuh dari kondisi tenang karena ditiup angin konstan di sepanjang fetch.", answer: "Pada awal fetch (dekat pantai), hanya ada sedikit energi dan terkonsentrasi pada frekuensi tinggi (gelombang-gelombang kecil dan pendek). Bentuk spektrumnya rendah dan lebar. Seiring dengan bertambahnya jarak di sepanjang fetch, angin terus menerus memompa energi ke laut. Akibatnya, total area di bawah kurva spektrum (energi total) akan meningkat secara signifikan. Puncak spektrum juga akan bergeser secara progresif ke arah frekuensi yang lebih rendah, yang berarti periode puncak dan panjang gelombang dominan bertambah besar. Selain itu, bentuk spektrum menjadi lebih terdefinisi dan lebih runcing di sekitar frekuensi puncak. Jadi, perubahannya adalah: 1) Peningkatan energi total (kurva menjadi lebih tinggi), dan 2) Pergeseran puncak ke frekuensi yang lebih rendah (puncak bergerak ke kiri pada plot)." }
                ]
            },
            "Evolusi Gelombang & Model Numerik": {
                mcq: [
                    { question: "Model peramalan gelombang modern pada dasarnya menghitung evolusi...", options: ["Tinggi gelombang individu", "Spektrum densitas variansi/aksi di setiap lokasi dan waktu", "Kecepatan angin di atas laut", "Suhu permukaan laut"], answer: "Spektrum densitas variansi/aksi di setiap lokasi dan waktu", explanation: "Model seperti SWAN atau WAVEWATCH III tidak melacak gelombang individu, melainkan menghitung bagaimana spektrum energi E(f,θ) berubah dari waktu ke waktu di setiap titik grid akibat berbagai proses fisika." },
                    { question: "Persamaan dasar yang mengatur evolusi spektrum energi gelombang disebut...", options: ["Persamaan Navier-Stokes", "Persamaan Kesetimbangan Densitas Aksi (Action Balance Equation)", "Persamaan Hidrostatik", "Hukum Konservasi Massa"], answer: "Persamaan Kesetimbangan Densitas Aksi (Action Balance Equation)", explanation: "Persamaan ini adalah persamaan konservasi untuk densitas aksi gelombang (N = E/σ), yang memperhitungkan perubahan lokal, penjalaran (propagasi), dan efek dari sumber (source) dan rosotan (sink)." },
                    { question: "Dalam persamaan kesetimbangan densitas aksi, suku 'source' dan 'sink' (S) merepresentasikan...", options: ["Penjalaran gelombang", "Perubahan kedalaman", "Semua proses fisika yang menambah atau mengurangi energi gelombang", "Hanya input dari angin"], answer: "Semua proses fisika yang menambah atau mengurangi energi gelombang", explanation: "Suku S adalah penjumlahan dari input energi dari angin (Sin), disipasi akibat whitecapping (Sds,w) dan gesekan dasar (Sds,b), serta transfer energi non-linear antar gelombang (Snl)." },
                    { question: "Proses penjalaran (propagasi) energi gelombang dalam model numerik dihitung menggunakan...", options: ["Kecepatan fase", "Kecepatan grup (group velocity)", "Kecepatan angin", "Kecepatan arus"], answer: "Kecepatan grup (group velocity)", explanation: "Energi gelombang tidak menjalar dengan kecepatan fase (kecepatan puncak individu), melainkan dengan kecepatan grup, yang merupakan kecepatan paket gelombang." },
                    { question: "Pembelokan arah gelombang saat melewati perairan dengan kedalaman yang bervariasi disebut...", options: ["Shoaling", "Refraksi", "Difraksi", "Dispersi"], answer: "Refraksi", explanation: "Refraksi terjadi karena bagian dari muka gelombang yang berada di perairan yang lebih dangkal bergerak lebih lambat, menyebabkan seluruh muka gelombang membengkok dan cenderung menjadi sejajar dengan garis kontur kedalaman." },
                    { question: "Perubahan tinggi gelombang saat menjalar dari perairan dalam ke dangkal (tanpa memperhitungkan gesekan atau pecah) disebut...", options: ["Shoaling", "Refraksi", "Difraksi", "Refleksi"], answer: "Shoaling", explanation: "Saat gelombang memasuki perairan dangkal, kecepatan grupnya melambat, menyebabkan energi 'menumpuk' dan tinggi gelombang meningkat. Ini adalah proses shoaling." },
                    { question: "Model SWAN (Simulating Waves Nearshore) adalah model gelombang generasi ketiga yang dirancang khusus untuk...", options: ["Aplikasi samudra dalam skala global", "Aplikasi di wilayah pesisir, estuari, dan danau", "Memprediksi tsunami", "Memodelkan arus pasang surut"], answer: "Aplikasi di wilayah pesisir, estuari, dan danau", explanation: "SWAN sangat baik dalam memodelkan proses-proses yang penting di perairan dangkal seperti refraksi, shoaling, dan interaksi gelombang-arus." },
                    { question: "Dalam model SWAN, 'unstructured triangular grid' (grid segitiga tidak terstruktur) digunakan untuk...", options: ["Menyederhanakan perhitungan", "Memungkinkan resolusi yang lebih tinggi di area yang kompleks seperti dekat pantai dan pulau", "Hanya bisa digunakan di perairan dalam", "Mengurangi input data yang diperlukan"], answer: "Memungkinkan resolusi yang lebih tinggi di area yang kompleks seperti dekat pantai dan pulau", explanation: "Grid tidak terstruktur memungkinkan ukuran sel grid yang bervariasi, kecil di area penting (misalnya, dekat pelabuhan) dan besar di area lepas pantai, sehingga lebih efisien secara komputasi." },
                    { question: "Input utama yang diperlukan untuk menjalankan model gelombang seperti SWAN adalah...", options: ["Data salinitas dan suhu", "Data batimetri (kedalaman) dan data angin", "Data jenis sedimen dasar", "Data pasang surut"], answer: "Data batimetri (kedalaman) dan data angin", explanation: "Batimetri sangat penting untuk proses perairan dangkal, sementara angin adalah gaya penggerak utama yang membangkitkan gelombang." },
                    { question: "Jika gelombang menjalar melawan arus (adverse current), tinggi gelombang akan...", options: ["Berkurang dan panjang gelombang bertambah", "Bertambah dan panjang gelombang berkurang", "Tetap sama", "Menjadi nol"], answer: "Bertambah dan panjang gelombang berkurang", explanation: "Arus yang berlawanan arah 'memadatkan' energi gelombang, menyebabkan tinggi gelombang meningkat dan panjang gelombangnya memendek. Ini dapat menciptakan kondisi laut yang sangat curam dan berbahaya." },
                    { question: "Jika gelombang menjalar searah dengan arus (following current), tinggi gelombang akan...", options: ["Bertambah dan panjang gelombang berkurang", "Berkurang dan panjang gelombang bertambah", "Tetap sama", "Menjadi tak terhingga"], answer: "Berkurang dan panjang gelombang bertambah", explanation: "Arus yang searah 'meregangkan' energi gelombang, menyebabkan tinggi gelombang menurun dan panjang gelombangnya bertambah." },
                    { question: "Frekuensi absolut (ω) yang dialami oleh pengamat diam berhubungan dengan frekuensi relatif (σ) melalui...", options: ["ω = σ", "ω = σ - kU", "ω = σ + kU", "ω = σ / kU"], answer: "ω = σ + kU", explanation: "Frekuensi absolut adalah jumlah dari frekuensi relatif (frekuensi dalam kerangka acuan yang bergerak bersama arus) dan efek Doppler yang disebabkan oleh kecepatan arus (kU)." },
                    { question: "Dalam persamaan kesetimbangan densitas aksi, suku Sin merepresentasikan...", options: ["Interaksi non-linear", "Disipasi whitecapping", "Input energi dari angin", "Gesekan dasar"], answer: "Input energi dari angin", explanation: "Sin adalah suku sumber yang paling penting, menggambarkan bagaimana energi ditransfer dari atmosfer (angin) ke lautan untuk menciptakan dan menumbuhkan gelombang." },
                    { question: "Proses Snl (interaksi non-linear antar gelombang) bertanggung jawab untuk...", options: ["Menciptakan gelombang dari kondisi tenang", "Menghilangkan semua energi gelombang", "Mentransfer energi dari frekuensi puncak ke frekuensi yang lebih rendah dan lebih tinggi", "Hanya terjadi di perairan sangat dangkal"], answer: "Mentransfer energi dari frekuensi puncak ke frekuensi yang lebih rendah dan lebih tinggi", explanation: "Interaksi non-linear (khususnya interaksi kuadruplet) adalah mekanisme utama yang membentuk spektrum gelombang, memindahkan energi dari frekuensi tengah ke frekuensi yang lebih rendah (menyebabkan periode bertambah) dan ke frekuensi yang lebih tinggi (di mana energi didisipasi)." },
                    { question: "Disipasi energi akibat gesekan dengan dasar laut (Sds,b) menjadi signifikan ketika...", options: ["Gelombang berada di samudra yang sangat dalam", "Kecepatan angin sangat tinggi", "Gelombang menjalar di atas perairan dangkal", "Terjadi hujan lebat"], answer: "Gelombang menjalar di atas perairan dangkal", explanation: "Ketika kedalaman air menjadi cukup dangkal sehingga gerakan orbital air di dasar signifikan, gesekan dengan dasar laut akan mulai menghilangkan energi dari gelombang." }
                ],
                essay: [
                     { question: "Jelaskan secara singkat lima proses fisika utama yang direpresentasikan oleh suku sumber (source term) dalam persamaan kesetimbangan densitas aksi gelombang.", answer: "Lima proses utama dalam suku sumber (S) adalah: 1. **Sin (Input Angin):** Proses transfer energi dari angin ke permukaan laut yang menyebabkan gelombang tumbuh. 2. **Snl (Interaksi Non-linear):** Redistribusi energi antar komponen gelombang. Interaksi ini memindahkan energi dari frekuensi puncak ke frekuensi yang lebih rendah (memperpanjang periode) dan frekuensi yang lebih tinggi. 3. **Sds,w (Disipasi Whitecapping):** Kehilangan energi akibat pecahnya puncak gelombang di perairan dalam, yang membatasi ketinggian maksimum gelombang. 4. **Sds,b (Disipasi Gesekan Dasar):** Kehilangan energi karena gesekan antara gerakan orbital air di dasar dengan dasar laut, menjadi penting di perairan dangkal. 5. **Sds,br (Disipasi Pecah Gelombang Dangkal):** Kehilangan energi yang sangat besar akibat pecah gelombang karena kedalaman yang terbatas (depth-induced breaking) di dekat pantai (surf zone)." },
                     { question: "Mengapa pemodelan interaksi gelombang-arus penting di daerah estuari atau selat dengan arus pasang surut yang kuat? Jelaskan dampaknya terhadap tinggi dan panjang gelombang.", answer: "Pemodelan interaksi gelombang-arus sangat penting karena arus dapat secara signifikan memodifikasi karakteristik gelombang. Di daerah seperti estuari atau selat, arus pasang surut yang kuat dapat berinteraksi dengan gelombang yang masuk. Dampaknya adalah: 1. **Saat Arus Berlawanan (Adverse Current):** Gelombang yang menjalar melawan arus akan mengalami peningkatan tinggi (menjadi lebih curam) dan pemendekan panjang gelombang. Hal ini karena energi gelombang 'tertahan' dan terkompresi oleh arus, yang dapat menciptakan kondisi laut yang sangat berbahaya. 2. **Saat Arus Searah (Following Current):** Gelombang yang menjalar searah dengan arus akan mengalami penurunan tinggi dan pemanjangan panjang gelombang. Energi gelombang 'tersebar' di area yang lebih luas, membuat kondisi laut lebih tenang. Mengabaikan efek ini dapat menyebabkan prediksi tinggi gelombang yang sangat tidak akurat dan berbahaya bagi navigasi dan struktur pantai." }
                ]
            }
        };

        // --- Logika Kuis (Sama seperti file template Anda) ---
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const topicSelection = document.getElementById('topic-selection');
        const quizTopicTitle = document.getElementById('quiz-topic-title');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const essayContainer = document.getElementById('essay-container');
        const essayAnswer = document.getElementById('essay-answer');
        const questionCounter = document.getElementById('question-counter');
        const scoreElement = document.getElementById('score');
        const topicScoresBreakdown = document.getElementById('topic-scores-breakdown');
        const answersReview = document.getElementById('answers-review');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const modal = document.getElementById('explanationModal');
        const navPanel = document.getElementById('nav-panel');
        const navGrid = document.getElementById('nav-grid');
        const progressBar = document.getElementById('progress-bar');

        let currentQuestionIndex = 0;
        let userAnswers = [];
        let activeQuestions = [];
        let selectedOptionElement = null;
        let currentTopic = '';

        function initializeTopicSelection() {
            topicSelection.innerHTML = '';
            const topics = Object.keys(quizDataCategorized);
            topics.forEach(topic => {
                const button = document.createElement('button');
                button.textContent = topic;
                button.classList.add('topic-button', 'w-full', 'p-4', 'bg-white', 'border-2', 'border-blue-300', 'rounded-lg', 'text-blue-700', 'font-semibold', 'hover:bg-blue-50');
                button.onclick = () => startQuiz(topic);
                topicSelection.appendChild(button);
            });
            const allButton = document.createElement('button');
            allButton.textContent = 'Semua Topik (110 Soal)';
            allButton.classList.add('topic-button', 'w-full', 'p-4', 'bg-blue-600', 'text-white', 'font-bold', 'rounded-lg', 'md:col-span-2');
            allButton.onclick = () => startQuiz('Semua Topik');
            topicSelection.appendChild(allButton);
        }

        function startQuiz(topic) {
            currentTopic = topic;
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            resultScreen.classList.add('hidden');
            
            if (topic === 'Semua Topik') {
                activeQuestions = [];
                Object.keys(quizDataCategorized).forEach(catName => {
                    const category = quizDataCategorized[catName];
                    activeQuestions.push(...category.mcq.map(q => ({...q, topic: catName})));
                    activeQuestions.push(...category.essay.map(q => ({...q, topic: catName})));
                });
            } else {
                const category = quizDataCategorized[topic];
                activeQuestions = [
                    ...category.mcq.map(q => ({...q, topic})),
                    ...category.essay.map(q => ({...q, topic}))
                ];
            }
            
            activeQuestions = shuffleArray(activeQuestions);

            quizTopicTitle.textContent = topic;
            currentQuestionIndex = 0;
            userAnswers = Array(activeQuestions.length).fill(null).map((_, i) => ({
                question: activeQuestions[i].question,
                userAnswer: null,
                correctAnswer: activeQuestions[i].answer,
                isCorrect: null,
                explanation: activeQuestions[i].explanation,
                type: activeQuestions[i].options ? 'mcq' : 'essay',
                topic: activeQuestions[i].topic
            }));
            
            populateNavPanel();
            loadQuiz();
        }
        
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function populateNavPanel() {
            navGrid.innerHTML = '';
            activeQuestions.forEach((_, index) => {
                const btn = document.createElement('button');
                btn.innerHTML = `<span>${index + 1}</span>`;
                btn.classList.add('nav-btn', 'p-2', 'rounded-md', 'transition-colors', 'duration-200', 'flex', 'items-center', 'justify-center');
                btn.onclick = () => jumpToQuestion(index);
                navGrid.appendChild(btn);
            });
        }

        function updateNavPanel() {
            const navButtons = navGrid.children;
            const checkmarkSVG = `<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-check-lg inline-block ml-1" viewBox="0 0 16 16"><path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"/></svg>`;

            for (let i = 0; i < navButtons.length; i++) {
                navButtons[i].classList.remove('current', 'answered');
                navButtons[i].innerHTML = `<span>${i + 1}</span>`; 

                if (userAnswers[i] && userAnswers[i].userAnswer !== null && userAnswers[i].userAnswer.trim() !== '') {
                    navButtons[i].classList.add('answered');
                    navButtons[i].innerHTML = `<span>${i + 1}</span>${checkmarkSVG}`;
                }
                if (i === currentQuestionIndex) {
                    navButtons[i].classList.add('current');
                }
            }
        }

        function toggleNavPanel() {
            navPanel.classList.toggle('hidden');
            if (!navPanel.classList.contains('hidden')) {
                updateNavPanel();
            }
        }

        function jumpToQuestion(index) {
            saveCurrentAnswer();
            currentQuestionIndex = index;
            loadQuiz();
            toggleNavPanel();
        }

        function saveCurrentAnswer() {
            const currentQuestion = activeQuestions[currentQuestionIndex];
            let userAnswer = null;

            if (currentQuestion.options) {
                const selected = optionsContainer.querySelector('.selected');
                if (selected) userAnswer = selected.textContent;
            } else {
                if (essayAnswer.value.trim() !== '') userAnswer = essayAnswer.value.trim();
            }

            userAnswers[currentQuestionIndex].userAnswer = userAnswer;
            if (currentQuestion.options) {
                userAnswers[currentQuestionIndex].isCorrect = (userAnswer === currentQuestion.answer);
            }
        }

        function loadQuiz() {
            deselectOptions();
            const currentQuestionData = userAnswers[currentQuestionIndex];
            questionText.textContent = currentQuestionData.question;
            questionCounter.textContent = `Soal ${currentQuestionIndex + 1} / ${activeQuestions.length}`;
            progressBar.style.width = `${((currentQuestionIndex + 1) / activeQuestions.length) * 100}%`;

            if (currentQuestionData.type === 'mcq') {
                optionsContainer.classList.remove('hidden');
                essayContainer.classList.add('hidden');
                optionsContainer.innerHTML = '';
                const options = shuffleArray([...activeQuestions[currentQuestionIndex].options]);
                options.forEach(option => {
                    const button = document.createElement('button');
                    button.textContent = option;
                    button.classList.add('quiz-option', 'w-full', 'p-4', 'border-2', 'rounded-lg', 'text-left', 'hover:bg-blue-100', 'transition', 'duration-200');
                    button.onclick = () => selectAnswer(button);
                    if (option === currentQuestionData.userAnswer) {
                        button.classList.add('selected');
                        selectedOptionElement = button;
                    }
                    optionsContainer.appendChild(button);
                });
            } else {
                optionsContainer.classList.add('hidden');
                essayContainer.classList.remove('hidden');
                essayAnswer.value = currentQuestionData.userAnswer || '';
            }
            
            prevBtn.style.visibility = currentQuestionIndex === 0 ? 'hidden' : 'visible';
            nextBtn.textContent = currentQuestionIndex === activeQuestions.length - 1 ? 'Selesai' : 'Selanjutnya';
        }

        function selectAnswer(buttonElement) {
            deselectOptions();
            selectedOptionElement = buttonElement;
            buttonElement.classList.add('selected');
        }

        function deselectOptions() {
            const options = document.querySelectorAll('.quiz-option');
            options.forEach(option => option.classList.remove('selected'));
            selectedOptionElement = null;
        }
        
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                saveCurrentAnswer();
                currentQuestionIndex--;
                loadQuiz();
            }
        }

        function nextQuestion() {
            saveCurrentAnswer();
            if (currentQuestionIndex < activeQuestions.length - 1) {
                currentQuestionIndex++;
                loadQuiz();
            } else {
                showResults();
            }
        }

        function showResults() {
            saveCurrentAnswer();
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');

            const topicScores = {};
            userAnswers.forEach(answer => {
                if (answer.type !== 'mcq') return;
                if (!topicScores[answer.topic]) {
                    topicScores[answer.topic] = { correct: 0, total: 0 };
                }
                topicScores[answer.topic].total++;
                if (answer.isCorrect) {
                    topicScores[answer.topic].correct++;
                }
            });

            topicScoresBreakdown.innerHTML = '<h3 class="text-xl font-bold mb-4">Rincian Skor per Topik (Pilihan Ganda)</h3>';
            let totalCorrect = 0;
            let totalQuestions = 0;

            const sortedTopics = Object.keys(quizDataCategorized).sort();

            sortedTopics.forEach(topic => {
                if (topicScores[topic] && topicScores[topic].total > 0) {
                    const score = topicScores[topic];
                    totalCorrect += score.correct;
                    totalQuestions += score.total;
                    const percentage = score.total > 0 ? ((score.correct / score.total) * 100).toFixed(0) : 0;
                    topicScoresBreakdown.innerHTML += `
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-semibold">${topic}</span>
                            <span class="font-bold">${score.correct}/${score.total} (${percentage}%)</span>
                        </div>
                    `;
                }
            });

            if (totalQuestions > 0) {
                const totalPercentage = ((totalCorrect / totalQuestions) * 100).toFixed(0);
                topicScoresBreakdown.innerHTML += `<hr class="my-2"><div class="flex justify-between items-center mt-2">
                    <span class="font-bold text-lg text-blue-600">Skor Total</span>
                    <span class="font-bold text-lg text-blue-600">${totalCorrect}/${totalQuestions} (${totalPercentage}%)</span>
                </div>`;
            } else {
                 topicScoresBreakdown.innerHTML += `<p>Tidak ada soal pilihan ganda yang dikerjakan.</p>`;
            }


            answersReview.innerHTML = '';
            userAnswers.forEach((answer, index) => {
                const reviewItem = document.createElement('div');
                reviewItem.classList.add('p-4', 'mb-4', 'border', 'rounded-lg');
                
                let answerStatusHtml = '';
                if (answer.type === 'mcq') {
                    if (answer.isCorrect) {
                        reviewItem.classList.add('bg-green-50', 'border-green-200');
                        answerStatusHtml = `<p class="mt-2"><strong>Jawaban Anda:</strong> <span class="text-green-700 font-semibold">${answer.userAnswer || '(Tidak dijawab)'} (Benar)</span></p>`;
                    } else {
                        reviewItem.classList.add('bg-red-50', 'border-red-200');
                        answerStatusHtml = `
                            <p class="mt-2"><strong>Jawaban Anda:</strong> <span class="text-red-700 font-semibold">${answer.userAnswer || '(Tidak dijawab)'} (Salah)</span></p>
                            <p class="mt-1"><strong>Jawaban Benar:</strong> <span class="text-green-700 font-semibold">${answer.correctAnswer}</span></p>
                        `;
                    }
                } else { // Essay
                     reviewItem.classList.add('bg-blue-50', 'border-blue-200');
                     answerStatusHtml = `
                        <p class="mt-2"><strong>Jawaban Anda (Esai):</strong></p>
                        <p class="italic text-gray-700 p-2 bg-white rounded">${answer.userAnswer || '(Tidak dijawab)'}</p>
                        <p class="mt-2"><strong>Kunci Jawaban:</strong></p>
                        <p class="text-gray-800 p-2 bg-gray-100 rounded">${answer.correctAnswer}</p>
                     `;
                }

                reviewItem.innerHTML = `
                    <p class="font-semibold">${index + 1}. ${answer.question}</p>
                    <p class="text-xs text-gray-500">Topik: ${answer.topic}</p>
                    ${answerStatusHtml}
                    ${answer.type === 'mcq' ? `<button onclick="showExplanation(${index})" class="mt-2 text-sm text-blue-600 hover:underline">Lihat Penjelasan</button>` : ''}
                `;
                answersReview.appendChild(reviewItem);
            });
        }
        
        function restartQuiz() {
            resultScreen.classList.add('hidden');
            startScreen.classList.remove('hidden');
        }

        function showExplanation(index) {
            const answer = userAnswers[index];
            document.getElementById('modal-question').textContent = answer.question;
            document.getElementById('modal-correct-answer').textContent = answer.correctAnswer;
            document.getElementById('modal-explanation').textContent = answer.explanation || "Penjelasan tidak tersedia.";
            modal.classList.remove('hidden');
            setTimeout(() => modal.querySelector('div').classList.remove('scale-95'), 10);
        }

        function closeModal() {
            modal.querySelector('div').classList.add('scale-95');
            setTimeout(() => modal.classList.add('hidden'), 300);
        }

        // Initialize
        window.onload = initializeTopicSelection;

    </script>
</body>
</html>

